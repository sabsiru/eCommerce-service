# API 명세 - 사용자 보유 쿠폰 조회 API

## 1. 개요
- **사용자 보유 쿠폰 조회 API**는 특정 사용자가 **보유 중인 쿠폰 목록**을 조회하는 기능을 제공합니다.
- 반환된 쿠폰 정보에는 **사용 가능 여부(`status`)**가 포함됩니다.

---

## 2. API 정보

| 항목         | 내용                                           |
|--------------|------------------------------------------------|
| **API 명칭**  | 사용자 쿠폰 조회 API                           |
| **설명**      | 특정 사용자가 보유한 쿠폰 목록을 반환합니다.      |
| **관련 도메인**| User, UserCoupon, Coupon           |

---

## 3. 요청

- **Method**: `GET`
- **Endpoint**: `/coupon/{userId}/list`

#### 3.1 Path Variable

| 변수명 | 타입 | 필수 | 설명                              |
|--------|------|------|-----------------------------------|
| userId | Long | ✅   | 사용자 ID (고유 사용자 식별자)         |

#### 3.2 Request Body
- 없음

---

## 4. 응답

#### 4.1 성공 시
```
{
"data": [
        {
        "couponId": 101,
        "name": "10% 할인 쿠폰",
        "discountRate": 10,
        "expirdAt": "2025-04-30",
        "status": "ACTIVE"
        },
        {
        "couponId": 102,
        "name": "5% 할인 쿠폰",
        "discountRate": 5,
        "expiredAt": "2025-04-01",
        "status" : "EXPIRED"
        }
    ]
}
```
| 필드명        | 타입    | 설명                           |
|---------------|---------|--------------------------------|
| couponId      | Long    | 쿠폰 고유 식별자                |
| name          | String  | 쿠폰 이름                       |
| discountRate  | Integer | 할인율 (%)                     |
| expiresAt     | String  | 만료일 (yyyy-MM-dd)             |
| couponStatus  | String  | 쿠폰 상태 (`ACTIVE`, `USED`, `EXPIRED`) |
| message       | String  | 처리 결과 메시지                |

#### 4.2 상태 코드

| 코드 | 설명          |
|------|---------------|
| 200  | 조회 성공       |
| 404  | 사용자 없음      |
| 500  | 서버 오류       |

---

## 5. 예외 처리

| 예외 상황        | HTTP 상태 | 설명                               |
|-------------------|------------|------------------------------------|
| 사용자 없음       | 404        | 존재하지 않는 사용자 ID로 요청한 경우     |
| 시스템 오류       | 500        | 서버 내부 오류 발생 시                  |

---

## 6. 테스트 포인트

| 테스트 항목         | 검증 내용                                 |
|----------------------|------------------------------------------|
| 사용자 ID 검증        | 요청 경로의 userId가 올바르게 처리되는가       |
| 보유 쿠폰 반환        | 사용자가 보유한 쿠폰 목록이 정상적으로 반환되는가 |
| 쿠폰 상태 판단        | 쿠폰 상태가 ACTIVE / EXPIRED 로 정확히 반환되는가 |

[돌아가기](../../README.md)